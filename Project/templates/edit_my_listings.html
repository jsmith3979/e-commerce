<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Listing</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body>
  <div class="header">
      <div class="container">
          <nav>
              <ul>
                <li><a href="/dashboard">Home</a></li>
                <li><a href="#">Reviews</a></li>
                <li><a href="/Create_listing">Create listing</a></li>
                <li><a href="/chat_inbox">Messages</a></li>
                <li><a href="/my_listings">My listings</a></li>
            </ul>
        </nav>
        <div class="search-bar">
            <form action="{{ url_for('search') }}" method="GET">
                <input type="text" name="query" placeholder="Search for items..." value="{{ query if query else '' }}" required>
                <button type="submit">Search</button>
            </form>
        </div>
        <nav>
            <ul>
                <li><a href="/logout">Logout</a></li>
            </ul>
        </nav>
        <div class="notification-container">
            <a href="{{ url_for('notifications_page') }}">
                <svg class="notification-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M12 2C10.346 2 9 3.346 9 5v1.07C6.159 7.16 4 9.94 4 13v4l-2 2v1h20v-1l-2-2v-4c0-3.06-2.159-5.84-5-6.93V5c0-1.654-1.346-3-3-3zm1 18h-2v-2h2v2zm6-4H5v-1c0-2.757 2.243-5 5-5h6c2.757 0 5 2.243 5 5v1z"/>
                </svg>
                <span class="notification-badge"></span>
            </a>
        </div>

        <div class="basket-container">
            <a href="{{ url_for('basket_page') }}">
                <svg xmlns="http://www.w3.org/2000/svg" class="basket-icon" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h8.6c.75 0 1.41-.41 1.75-1.03l3.58-6.49-.94-.33L17.25 10H8.53l-1.1-2H1v2h4l3.6 7.59-1.35 2.44C6.52 19.37 7.48 21 9 21h12v-2H9.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03L23 6H6.42l-.94-2H1V2h4.42l3.6 7.59L7.16 14z"/>
                </svg>
            </a>
        </div>

        <div class="logo"><h2>E</h2><h1>BUY</h1></div>
      </div>

    <h1>Edit Listing</h1>

    <!-- Directly use the `item` object for editing -->
<form action="{{ url_for('update_item', item_id=item.item_id) }}" method="POST" class="edit-item-form">

    <!-- Display item image -->
    <div class="image-container">
        <img src="{{ url_for('item_image', item_id=item.item_id) }}" alt="{{ item.name }}" class="item-image">
    </div>

    <!-- Form fields -->
    <div class="form-group">
        <label for="name"><strong>Name:</strong></label>
        <input type="text" name="name" id="name" value="{{ item.name }}" required class="form-control">
    </div>

    <div class="form-group">
        <label for="price"><strong>Price:</strong></label>
        <input type="number" name="price" id="price" value="{{ item.price }}" step="0.01" required class="form-control" min="0.01">
    </div>

<div class="form-group">
    <label for="category"><strong>Category:</strong></label>
    <select name="category" id="category" required class="form-control">
        <option value="electronics" {% if item.category == 'electronics' %} selected {% endif %}>Electronics</option>
        <option value="fashion" {% if item.category == 'fashion' %} selected {% endif %}>Fashion</option>
        <option value="home" {% if item.category == 'home' %} selected {% endif %}>Home</option>
        <option value="music" {% if item.category == 'music' %} selected {% endif %}>Music</option>
        <option value="books" {% if item.category == 'books' %} selected {% endif %}>Books</option>
        <option value="toys" {% if item.category == 'toys' %} selected {% endif %}>Toys & Games</option>
        <option value="sports" {% if item.category == 'sports' %} selected {% endif %}>Sports & Outdoors</option>
        <option value="beauty" {% if item.category == 'beauty' %} selected {% endif %}>Beauty & Personal Care</option>
        <option value="automotive" {% if item.category == 'automotive' %} selected {% endif %}>Automotive</option>
        <option value="groceries" {% if item.category == 'groceries' %} selected {% endif %}>Groceries</option>
        <option value="office" {% if item.category == 'office' %} selected {% endif %}>Office Supplies</option>
        <option value="pets" {% if item.category == 'pets' %} selected {% endif %}>Pet Supplies</option>
        <option value="garden" {% if item.category == 'garden' %} selected {% endif %}>Garden & Outdoors</option>
        <option value="health" {% if item.category == 'health' %} selected {% endif %}>Health & Wellness</option>
        <option value="jewelry" {% if item.category == 'jewelry' %} selected {% endif %}>Jewelry</option>
    </select>
</div>


    <div class="form-group">
        <label for="stock_quantity"><strong>Stock Quantity:</strong></label>
        <input type="number" name="stock_quantity" id="stock_quantity" value="{{ item.stock_quantity }}" required class="form-control" min="0">
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Update Item</button>
</form>


  </div>
</body>
</html>
